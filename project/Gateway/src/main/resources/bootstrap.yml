server:
  port: 8831
spring:
  application:
    name: gateway
  cloud:
    nacos:
      discovery:
        cluster-name: GATEWAY
        server-addr: localhost:8802
        username: nacos
        password: nacos
        group: SHOP_GROUP
        namespace: shop
    gateway:
      # 开启服务发现，下面使用微服务名称进行调用
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
          # 路由器 ID，没有固定规则但要求唯一，建议配合服务名
        - id: user_routh
          # 匹配后提供服务的路由地址
          # uri: http://localhost:8001
          # 匹配后提的微服务地址(lb表示负载均衡)
          uri: lb://user-server
          predicates:
            # 断言，路径相匹配的进行路由
            - Path=/user/**
        - id: auth_routh
          uri: lb://auth-server
          predicates:
            - Path=/auth/**
        - id: admin_routh
          uri: lb://admin-server
          predicates:
            - Header=admin_token
            - Header=admin_id

ribbon:
  # 建立连接超时时间
  ConnectTimeout: 5000
  # 建立连接后从服务器读取到可用资源的所用时间（默认1000，即1秒）
  ReadTimeout: 50000
